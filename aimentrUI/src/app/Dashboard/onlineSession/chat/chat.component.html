<div class="container">
  <!-- <h3 class=" text-center">Chat</h3> -->
  <div class="messaging mt-2">
    <div class="inbox_msg">
      <div class="mesgs">
        <div class="msg_history">
          <ng-container *ngFor="let message of messages;">

            <div class="notification" *ngIf="message.action != undefined">
              <p *ngIf="message?.action === action.JOINED" class="chat-notification bg-success text-white p-2 rounded">
                  <b>{{message.from.name}}</b> 
                  joined to the conversation.
              </p>
              <p *ngIf="message?.action === action.RENAME" class="chat-notification bg-info text-white p-2 rounded">
                <span><b>{{message.content.previousUsername}}</b> is now <b>{{message.content.username}}</b> </span>
              </p>
              <p *ngIf="message.action === action.LEFT" class="chat-notification bg-danger text-white p-2 rounded">
                <span><b>{{message.from.name}}</b> left from conversation.</span>
              </p>
            </div>

            <ng-container *ngIf="message?.action == undefined">
              <div class="incoming_msg" *ngIf="message.from.id !== user.id">
                <div class="incoming_msg_img">
                  <img src="https://ptetutorials.com/images/user-profile.png" alt="user">
                </div>
                <div class="received_msg" *ngIf="message.from.id !== user.id">
                  <div class="received_withd_msg">
                    <p class="text-muted">{{ message.from.name }}</p>
                    <p>{{ message.content }}</p>
                    <!-- <span class="time_date"> 11:01 AM | June 9</span> -->
                  </div>
                </div>
              </div>

              <div class="outgoing_msg" *ngIf="message.from.id === user.id">
                <div class="sent_msg">
                  <p>{{ message.content }}</p>
                  <!-- <span class="time_date"> 11:01 AM | June 9</span> -->
                </div>
              </div>

            </ng-container>
          </ng-container>
        </div>
        <div class="type_msg">
          <div class="input_msg_write">
            <form (submit)="sendMessage(messageContent)" class="message-container">
              <input type="text" class="form-control mr-2" [(ngModel)]="messageContent" name="message"
                placeholder="Type a message" />
              <button class="btn btn-primary" type="submit">Send</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>